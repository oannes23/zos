{% extends "base.html" %}
{% block title %}Budget â€” Zos{% endblock %}

{% block content %}
<div class="page-header">
    <div>
        <h1>Budget</h1>
        <p class="text-muted">Track API costs, token usage, and spending over time</p>
    </div>
</div>

<div class="filters">
    <select name="days" onchange="window.location.search='?days='+this.value">
        <option value="7"{% if days == 7 %} selected{% endif %}>Last 7 days</option>
        <option value="30"{% if days == 30 %} selected{% endif %}>Last 30 days</option>
        <option value="90"{% if days == 90 %} selected{% endif %}>Last 90 days</option>
    </select>
</div>

<div class="summary-stats" hx-get="/ui/budget/summary?days={{ days }}" hx-trigger="load">
    Loading summary...
</div>

<div class="card mt-2">
    <div class="card-header">
        <span class="card-title">Daily Costs</span>
    </div>
    <div hx-get="/ui/budget/daily?days={{ days }}" hx-trigger="load">
        Loading...
    </div>
</div>

<div class="dashboard-split mt-2">
    <div class="card">
        <div class="card-header">
            <span class="card-title">Cost by Layer</span>
        </div>
        <div hx-get="/ui/budget/by-layer?days={{ days }}" hx-trigger="load">
            Loading...
        </div>
    </div>

    <div class="card">
        <div class="card-header">
            <span class="card-title">Cost by Model</span>
        </div>
        <div hx-get="/ui/budget/by-model?days={{ days }}" hx-trigger="load">
            Loading...
        </div>
    </div>
</div>

<div class="card mt-2">
    <div class="card-header">
        <span class="card-title">Cost by Call Type</span>
    </div>
    <div hx-get="/ui/budget/by-call-type?days={{ days }}" hx-trigger="load">
        Loading...
    </div>
</div>

<div class="card mt-2">
    <div class="card-header">
        <span class="card-title">Recent LLM Calls</span>
    </div>
    <div id="calls-list" hx-get="/ui/budget/calls?days={{ days }}" hx-trigger="load">
        Loading...
    </div>
</div>
{% endblock %}
